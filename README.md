# Geo-sonic

## 前言

Geo-sonic 是本人正在开发的一个使用声音信号来分析岩土工作中的一些问题的工具包。主要目的是实现附加质量法的原位无损检测问题，可以通过分析材料的振动响应特性来帮助研究。在完成附加质量法测量密度的功能之后，会考虑拓展堆石体振动分析的应用。

## AMM 附加质量法

附加质量法是一种基于土石材料弹性阻尼模型的原位密度快速无损检测方法，通过分析土石材料在不同附加质量下的响应频率变化规律，可以通过神经网络、物理量场或者理论推解等方法确定土石材料的密度。

本仓库中的 amm_dev.py 是开发代码，amm_release.py 文件是经过测试的开发代码。

**工作路线：**

- 选择合适的振动信号拾取方法；
- 以 wav 文件格式记录下振动的时程曲线（录音）
- 对采集的信号进行截取和过滤，对受到激励的部分进行 FFT 计算，得到准确的响应主频
- 记录不同附加质量下的响应频率，得到 $\Delta D - m$ 曲线
- 采用神经网络或者数字量板计算材料的密度
- 将代码封装为qt gui

## AMM 第一次野外试验

### 1 整体规划

在类堆石体试验区域，选择表面平整，整体材料较为密实，面积约为$1m^2$的场地作为试验场地。使用2、3、4三级荷载做检测。试验采用接触麦克风、加速度传感器、以及cm-01b三种传感器作为信号采集装置。每种信号采集装置进行10次重锤激励。

### 2 试验过程

1. 确定噪声门，通过三次测试激励来查看振动幅值和噪声幅值的区别，确定噪声门；
2. 确定噪声门的同时，通过观察每次信号衰减的时长来确定窗口时限，确定fft_size；
3. 进行多次试验，不断修改采样率rate，来得到单峰结果；
4. 施以10次锤击，记录下有效的响应频率。

### 3 注意

- 重锤的锤击高度应当保持不变
- 重锤的锤击位置距离附加质量试验点约20-30cm
- 传感器应当放置稳定
- 堆石体的振动频率约在50~80hz之间

### 4 试验结果

经过多次尝试，最终选择经过降噪的加速度传感器作为信号输入，采样率定为2048，傅里叶窗口长度定为700ms。采用两块、三块、四块、五块配重进行试验最终得到结果如下：

| 附加质量 $\Delta m$ (kg) | 共振频率 f (Hz) | $\omega=2\pi f$ | $\omega ^{-2}$  ($ms^{-2}$) |
| -------------------- | ----------- | --------------- | --------------------------- |
| 150                  | 55          | 345.5752        | 8.373651541                 |
| 225                  | 47          | 295.3097        | 11.46686098                 |
| 300                  | 42          | 263.8938        | 14.35957818                 |
| 375                  | 38          | 238.761         | 17.54175617                 |

绘制附加质量与$\omega ^{-2}$关系图如下，并对四个测试点进行线性拟合：

![s](img/d-deltam.png)

拟合线与x轴的交点即为m0，可以看出，试验点线性良好，m0=56.7034kg




